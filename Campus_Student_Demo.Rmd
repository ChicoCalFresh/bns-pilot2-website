---
title: "Student Demographics by Campus"
output: 
  html_document: 
    toc: yes
    toc_float: yes
    css: styles.css
editor_options: 
  chunk_output_type: console
---

```{r, include=FALSE}
source("common_code.R")
```
The following is a comparison across the 3 campuses (Chico, Fresno, and Northridge) for information relating to the demographics of the students. This includes general information for students from each campus such as major, GPA, and currently enrolled units. The purpose is to see if any key differences are seen between the campuses, or if similar information is captured among them.


## Major
**What is your major? `r print_n_reporting('q16')`**
```{r, fig.height=5, fig.width=8}
bns <- bns %>% mutate(q16=recode(q16, 
                                 "Science, Technology, Engineering and Math (STEM) (Includes Medicine, Computer Science, Agriculture, Accounting, Statistics, Nursing, and Nutrition)" = "Science, Technology, Engineering and Math (STEM)"))

plot_grpfrq(bns$school, bns$q16, wrap.labels = 25, wrap.legend.labels = 20, geom.colors = likert.pal.5, legend.title = "", show.prc = FALSE) + 
  xlab('') + theme(legend.position="top")
```
For the most part, each campus has a similar number of students identifying as each major. CSU Fresno seems to have slightly lower "Arts and Humanities" majors and slightly higher "Public Health, Social Services, Social Science, Education" majors. Each campus has almost equal STEM majors.

## Overall GPA
**What is your approximate overall grade point average (GPA)? `r print_n_reporting('q17')`**
```{r, fig.height=4.2, fig.width=8}
plot_grpfrq(bns$school, bns$q17, wrap.labels = 25, geom.colors = likert.pal.5, legend.title = "", show.prc = FALSE) + 
  xlab('') + theme(legend.position="top")
```
Looking at the overall GPA, it seems that CSU Chico has the most in the 2.01-3.0 range (2 groups combined). Fresno seems to be leading for students with an overall GPA of 3.01 to 3.5, and has a clear lead for student with an overall GPA of 3.51 or above. Northridge seems to have the majority of their students having a 3.01 or above (2 groups combined). 

## Currently Enrolled Units
**How many units are you currently taking? `r print_n_reporting('q18')`**
```{r, fig.height=8, fig.width=8}
xlbls <- c(as.character(0:21), "22+")
bns <- bns %>% mutate(q18=recode(q18, "22+"="22"),
                      q18=as.numeric(q18))

ggplot(bns, aes(x=q18, group=school, fill=school)) + geom_histogram(aes(y=..density..), color="black", position = "identity")  +
  geom_density(alpha=0.4, color="black") + facet_wrap(~school, dir="v", scales='free') + xlab('Enrolled Units') + ylab("Density") + 
  theme(legend.position="none", strip.background = element_rect(fill="#c7dcf0"), strip.text = element_text(size=11)) +
  scale_fill_manual(values=campus.colors) + scale_x_continuous(breaks=0:22, labels=xlbls)
```
*Note: values corresponding to "22+" were rounded to 22.*

Looking at the currently enrolled units across each campus, it seems that again the distribution seems very similar for each. CSU Chico has an average `r unname(round(tapply(bns$q18, bns$school, mean, na.rm=TRUE),2)[1])` enrolled units, with a median of `r unname(round(tapply(bns$q18, bns$school, median, na.rm=TRUE),2)[1])` units. CSU Fresno has an average `r unname(round(tapply(bns$q18, bns$school, mean, na.rm=TRUE),2)[2])` enrolled units, with a median of `r unname(round(tapply(bns$q18, bns$school, median, na.rm=TRUE),2)[2])` units. CSU Northridge has an average `r unname(round(tapply(bns$q18, bns$school, mean, na.rm=TRUE),2)[3])` enrolled units, with a median of `r unname(round(tapply(bns$q18, bns$school, median, na.rm=TRUE),2)[3])` units. 

## Transfer Students
**I identify as a transfer student: `r print_n_reporting('q14_1')`**
```{r, fig.width=7.2}
plot_grpfrq(bns$school, bns$q14_1, wrap.labels = 25, ylim=c(0,83), geom.colors = campus.colors[c(2,1)], legend.title = "", show.prc = FALSE) + 
  xlab('') + theme(legend.position="top")
```
Looking at the breakdown of transfer students, we can see that Northridge has the most students who claim to not be transfer students (`r table(bns$q14_1, bns$school)[5]` people). It seems that Chico has the highest number of transfer students, with `r table(bns$q14_1, bns$school)[2]` people identifying as this.

---

## [Personal Demographics](Campus_Personal_Demo.html)
*Click here to go to the Personal Demographics page.*

## [Workload](Campus_Workload.html)
*Click here to go to the Workload page.*

